@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 2 6 23;
    --foreground: 248 250 252;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-gray-950 text-gray-100;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-900;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-700 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-600;
  }
}

@layer components {
  /* Prose enhancements for dark mode */
  .prose {
    @apply text-gray-300;
  }

  .prose h1, .prose h2, .prose h3, .prose h4 {
    @apply text-gray-100 font-semibold;
  }

  .prose h2 {
    @apply text-2xl mt-10 mb-4 pb-2 border-b border-gray-800;
  }

  .prose h3 {
    @apply text-xl mt-8 mb-3;
  }

  .prose h4 {
    @apply text-lg mt-6 mb-2;
  }

  .prose p {
    @apply leading-7 mb-4 text-gray-400;
  }

  .prose ul, .prose ol {
    @apply my-4 ml-6 text-gray-400;
  }

  .prose li {
    @apply mb-2;
  }

  .prose code:not(pre code) {
    @apply px-1.5 py-0.5 rounded bg-gray-800 text-pink-400 text-sm font-mono;
  }

  .prose pre {
    @apply rounded-xl my-6 bg-gray-900 border border-gray-800;
  }

  .prose blockquote {
    @apply border-l-4 border-emerald-500 pl-4 italic text-gray-400 my-6;
  }

  .prose table {
    @apply w-full my-6 rounded-xl overflow-hidden border border-gray-800;
  }

  .prose thead {
    @apply bg-gray-800/80;
  }

  .prose th {
    @apply text-left font-semibold text-gray-100 px-4 py-3 border-b border-gray-700;
  }

  .prose th:first-child {
    @apply rounded-tl-xl;
  }

  .prose th:last-child {
    @apply rounded-tr-xl;
  }

  .prose td {
    @apply px-4 py-3 border-b border-gray-800/50;
  }

  .prose tbody tr:nth-child(even) {
    @apply bg-gray-900/30;
  }

  .prose tbody tr:hover {
    @apply bg-gray-800/50;
  }

  .prose tbody tr:last-child td {
    @apply border-b-0;
  }

  .prose tbody tr:last-child td:first-child {
    @apply rounded-bl-xl;
  }

  .prose tbody tr:last-child td:last-child {
    @apply rounded-br-xl;
  }

  .prose a {
    @apply text-emerald-400 hover:text-emerald-300 transition-colors;
  }

  .prose img {
    @apply rounded-xl shadow-lg my-6 border border-gray-800;
  }

  .prose hr {
    @apply my-8 border-gray-800;
  }

  .prose strong {
    @apply text-gray-200 font-semibold;
  }

  /* API Reference styles */
  .api-method {
    @apply inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase;
  }

  .api-method-get {
    @apply bg-emerald-500/10 text-emerald-400 border border-emerald-500/20;
  }

  .api-method-post {
    @apply bg-blue-500/10 text-blue-400 border border-blue-500/20;
  }

  .api-method-put {
    @apply bg-amber-500/10 text-amber-400 border border-amber-500/20;
  }

  .api-method-delete {
    @apply bg-red-500/10 text-red-400 border border-red-500/20;
  }

  .api-method-patch {
    @apply bg-violet-500/10 text-violet-400 border border-violet-500/20;
  }

  /* Callout styles */
  .callout {
    @apply rounded-xl p-5 my-6 border backdrop-blur-sm;
  }

  .callout-note {
    @apply bg-blue-500/5 border-blue-500/20;
  }

  .callout-note .callout-title {
    @apply text-blue-400;
  }

  .callout-tip {
    @apply bg-emerald-500/5 border-emerald-500/20;
  }

  .callout-tip .callout-title {
    @apply text-emerald-400;
  }

  .callout-warning {
    @apply bg-amber-500/5 border-amber-500/20;
  }

  .callout-warning .callout-title {
    @apply text-amber-400;
  }

  .callout-danger {
    @apply bg-red-500/5 border-red-500/20;
  }

  .callout-danger .callout-title {
    @apply text-red-400;
  }

  .callout-info {
    @apply bg-cyan-500/5 border-cyan-500/20;
  }

  .callout-info .callout-title {
    @apply text-cyan-400;
  }

  /* Next steps link cards */
  .next-step-card {
    @apply flex items-center gap-3 p-4 rounded-xl bg-gray-900/50 border border-gray-800
           hover:border-gray-700 hover:bg-gray-800/50 transition-all duration-200;
  }

  .next-step-card:hover {
    @apply scale-[1.02] shadow-lg shadow-gray-900/50;
  }

  /* Focus states for accessibility */
  .prose a:focus-visible {
    @apply outline-none ring-2 ring-emerald-500 ring-offset-2 ring-offset-gray-950 rounded;
  }

  button:focus-visible {
    @apply outline-none ring-2 ring-emerald-500 ring-offset-2 ring-offset-gray-950;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Custom animations for integration flow */
@keyframes flowPacket {
  0% {
    transform: translateY(-50%) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-50%) translateX(calc(100% + 100px));
    opacity: 0;
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px currentColor;
  }
  50% {
    box-shadow: 0 0 40px currentColor;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
}

.animate-slide-in-left {
  animation: slideInLeft 0.4s ease-out forwards;
}

/* Code syntax highlighting override for dark theme */
.prism-code {
  @apply bg-gray-900 !important;
}

/* Selection colors */
::selection {
  @apply bg-emerald-500/30 text-white;
}
